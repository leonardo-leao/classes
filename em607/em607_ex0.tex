\documentclass{article}
\usepackage{tpack}


% \usepgfplotslibrary{external} 
% \tikzexternalize


% \titleformat
%     {\subsection}           % Part
%     [block]                 % Part Shape
%     {\normalfont\Large}     % Font Size
%     {}                      % Label Numbering
%     {0mm}                   % Part Separation
%     {}                      % Code Before
%     []                      % Code After

%     \titlespacing*{\subsection}{0mm}{5mm}{2.5mm}


\title{EM607 - Vibrações Mecânicas}
\author{Guilherme Nunes Trofino}
\authorRA{217276}
\project{Atividade Teórica}


\begin{document}
    \maketitle
\newpage

\section{Atividade Teórica}
\paragraph{Apresentação}Resolução das questões de Vibrações Mecânicas por Guilherme Nunes Trofino, 217276, sobre a \textbf{Resposta em Frequência} de um Sistema de 1-DOF com Amortecimento Viscoso Forçado com as seguintes características:
\begin{enumerate}
    \item $m$, \textbf{Massa}: 1 kg;
    \item $c$, \textbf{Constante de Amortecimento}: 1 N.s/m;
    \item $k$, \textbf{Constante Elástica}: 1 N/m;
    \item $F$, \textbf{Magnitude da Força}: 1 N;
\end{enumerate}
\begin{exercise}\label{ex1}
    Verifique que a Receptância é dada por:
    \begin{equation}
        \alpha (\omega) = \frac{1}{k - \omega^2 m + j\omega c}
    \end{equation}
\end{exercise}
\begin{resolution}
    Considera-se a seguinte equação para um sistema de 1-DOF com Amortecimento Viscoso Forçado por $f(t) = F e^{j\omega t}$:
    \begin{equation}
        m\ddot{x} + c\dot{x} + k x = F e^{j\omega t}\label{eq:1DOFAF}
    \end{equation}
    \noindent Propõem-se a seguinte solução: $x(t) = X e^{j\omega t}$. Na sequência substitui-se na Equação \ref{eq:1DOFAF} obtendo:
    \begin{align*}
        m\ddot{x}(t) + c\dot{x}(t) + k x(t) &= f(t)\\
        (-\omega^2 m + j \omega c + k) X e^{j\omega t} &= F e^{j\omega t}\\
        (-\omega^2 m + j \omega c + k) X \cancel{e^{j\omega t}} &= F \cancel{e^{j\omega t}}\\
        \frac{X}{F} &= \frac{1}{(k -\omega^2 m) + j \omega c}
    \end{align*}
    Nota-se que há o Deslocamento Harmônico divido pelo módulo da Força Harmônica o que configura a Receptância. Dessa forma conclui-se que:
    \begin{equation}
        \boxed{
            \alpha (\omega) = 
            \frac{x(t)}{f(t)} = 
            \frac{X e^{j\omega t}}{F e^{j\omega t}} = 
            \frac{X}{F} = 
            \frac{1}{(k -\omega^2 m) + j \omega c}
        }
    \end{equation}
\end{resolution}

\newpage
\begin{exercise}\label{ex2}
    Determine a Receptância e Plote os respectivos gráficos de módulo e fase.
\end{exercise}
\begin{resolution}
    Parte-se da dedução apresentada no Exercício \ref{ex1} e implementa-se a função \texttt{receptivity} em MATLAB:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{receptivity.m}
    \end{scriptsize}
    Na sequência implementa-se o seguinte algoritmo para determinar os gráficos de módulo e fase:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{ex2.m}
    \end{scriptsize}
    Nota-se que a Magnitude será extraída através da função \href{https://www.mathworks.com/help/matlab/ref/abs.html}{\texttt{abs}} e o Ângulo através da função \href{https://www.mathworks.com/help/matlab/ref/angle.html}{\texttt{angle}}.\\

    Nota-se que, no caso da Magnitude, é necessário utilizar a escala \href{https://www.mathworks.com/help/matlab/ref/loglog.html}{\texttt{loglog}} nos eixos X e Y do gráfico devido a seus valores.\\

    Nota-se que, no caso do Ângulo, é necessário utilizar a conversão \href{https://www.mathworks.com/help/matlab/ref/rad2deg.html}{\texttt{rad2deg}} para converter os ângulos de radianos, padrão do MATLAB, para graus. Nesse caso o eixo X estará na escala \href{https://www.mathworks.com/help/matlab/ref/loglog.html}{\texttt{loglog}} enquanto o eixo Y estará na escala de graus.\\

    \noindent Obtêm-se os seguintes gráficos:
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_rcpAbs.png}
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_rcpAng.png}
    \end{figure}
    Nota-se que a função \href{https://www.mathworks.com/help/control/ref/lti.bode.html}{\texttt{bode}} poderia ser utilizada ao se adaptar como o sistema está descrito.
\end{resolution}

\newpage
\begin{exercise}\label{ex3}
    Determine a Mobilidade e Plote os respectivos gráficos de módulo e fase.
\end{exercise}
\begin{resolution}
    Define-se a Mobilidade como a razão entre a Velocidade e a amplitude da Força Harmônica que exita o sistema. Dessa forma tem-se, a partir do Exercício \ref{ex1}, que:
    \begin{equation}
        \boxed{
            y (\omega) = 
            \frac{\dot{x}(t)}{f(t)} = 
            -j\omega\frac{X}{F} = 
            -j\omega \cdot \alpha(\omega) = 
            \frac{-j\omega}{(k -\omega^2 m) + j \omega c}
        }
    \end{equation}
    Dessa forma implementa-se a função \texttt{mobility} em MATLAB:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{mobility.m}
    \end{scriptsize}
    Na sequência implementa-se o seguinte algoritmo para determinar os gráficos de módulo e fase:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{ex3.m}
    \end{scriptsize}
    Observações realizadas para o Exercício \ref{ex2} seguem pertinentes, obtendo os seguintes gráficos:
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_mblAbs.png}
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_mblAng.png}
    \end{figure}
\end{resolution}

\newpage
\begin{exercise}\label{ex4}
    Determine a Inertância e Plote os respectivos gráficos de módulo e fase.
\end{exercise}
\begin{resolution}
    Define-se a Mobilidade como a razão entre a Velocidade e a amplitude da Força Harmônica que exita o sistema. Dessa forma tem-se, a partir do Exercício \ref{ex1}, que:
    \begin{equation}
        \boxed{
            A (\omega) = 
            \frac{\ddot{x}(t)}{f(t)} = 
            -j\omega   \cdot     y (\omega) = 
            - \omega^2 \cdot \alpha(\omega) = 
            \frac{-\omega^2}{(k -\omega^2 m) + j \omega c}
        }
    \end{equation}
    Dessa forma implementa-se a função \texttt{inertia} em MATLAB:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{inertia.m}
    \end{scriptsize}
    Na sequência implementa-se o seguinte algoritmo para determinar os gráficos de módulo e fase:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{ex4.m}
    \end{scriptsize}
    Observações realizadas para o Exercício \ref{ex2} seguem pertinentes aqui obtendo os seguintes gráficos:
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m1c5k100_inrAbs.png}
        \includegraphics[width=0.45\textwidth]{images/m1c5k100_inrAng.png}
        \caption{Análise Inertância}
    \end{figure}
\end{resolution}

\newpage
\begin{exercise}\label{ex5}
    Identifica-se as respectivas assíntotas de baixa e alta frequência nas curvas de Receptância, Mobilidade e Inertância?
\end{exercise}
\begin{resolution}
    Analisa-se a Receptância, Mobilidade e Inertância a partir dos extremos de frequência:
    \begin{enumerate}
        \item \textbf{Receptância}:
        \begin{equation}
            \alpha(\omega) = \frac{1}{k - \omega^2m} = 
            \begin{cases}\nonumber
                \text{quando } \omega\to 0,     \;\alpha(\omega) \approx \frac{1}{k}         & \log_{10} |\alpha(\omega)| = -1\log_{10} k\\
                \text{quando } \omega\to \infty,\;\alpha(\omega) \approx \frac{1}{\omega^2m} & \log_{10} |\alpha(\omega)| = -1\log_{10} m -2\log_{10} \omega\\
            \end{cases}
        \end{equation}

        \item \textbf{Mobilidade}:
        \begin{equation}
            y(\omega) = \frac{i\omega}{k - \omega^2m} = 
            \begin{cases}\nonumber
                \text{quando } \omega\to 0,     \;y(\omega) \approx \frac{i\omega}{k}   & \log_{10} |y(\omega)| = -1\log_{10} k +1\log_{10} \omega \\
                \text{quando } \omega\to \infty,\;y(\omega) \approx \frac{-i}{\omega m} & \log_{10} |y(\omega)| = -1\log_{10} m -1\log_{10} \omega\\
            \end{cases}
        \end{equation}

        \item \textbf{Inertância}:
        \begin{equation}
            A(\omega) = \frac{-\omega^2}{k - \omega^2m} = 
            \begin{cases}\nonumber
                \text{quando } \omega\to 0,     \;A(\omega) \approx \frac{-\omega^2}{k} & \log_{10} |A(\omega)| = -1\log_{10} k +2\log_{10} \omega\\
                \text{quando } \omega\to \infty,\;A(\omega) \approx \frac{1}{m}         & \log_{10} |A(\omega)| = -1\log_{10} m\\
            \end{cases}
        \end{equation}
    \end{enumerate}
    Na sequência implementa-se o seguinte algoritmo para determinar os gráficos de módulo e fase:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{ex5.m}
    \end{scriptsize}
    Assíntota de Baixa Frequência está em vermelho enquanto a Assíntota de Alta Frequência está laranja como representado abaixo:
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_rcpAss.png}
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_inrAss.png}
        \includegraphics[width=0.45\textwidth]{images/m1c1k1_mblAss.png}
        \caption{Comparação Assíntotas}
    \end{figure}
\end{resolution}

\newpage
\begin{exercise}\label{ex6}
    Varie o Fator de Amortecimento e Observe o comportamento dos gráficos de módulo e fase.
\end{exercise}
\begin{resolution}
    Nota-se que o Fator de Amortecimento $\xi$ será obtido através da seguinte expressão:
    \begin{equation*}
        \xi = \frac{c}{2 \cdot \omega_n \cdot m}, 
        \quad \text{onde:} \quad
        \omega_n = \sqrt{\frac{k}{m}}
    \end{equation*}
    Dessa forma, altera-se a Constante de Amortecimento $c$, mantendo as demais variáveis constantes, para se estudar o comportamento dos gráficos de Módulo e Fase para a Receptância, Mobilidade e Inertância.\\

    \noindent Na sequência implementa-se o seguinte algoritmo para determinar os gráficos de módulo e fase:
    \begin{scriptsize}
        \myMatlab\lstinputlisting[]{ex6.m}
    \end{scriptsize}
    Obtêm-se os seguintes gráficos:
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m1c5k100_rcpAbs_fatorAmortecimento.png}
        \includegraphics[width=0.45\textwidth]{images/m1c5k100_rcpAng_fatorAmortecimento.png}
        \caption{Comparação Receptância}
    \end{figure}
\end{resolution}

\newpage
\begin{exercise}\label{ex7}
    Varie os parâmetros de massa e rigidez e verifique a mudança nas assíntotas da Receptância, Mobilidade e Inertância.
\end{exercise}
\begin{resolution}
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_rcpAss_massa.png}
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_rcpAss_rigidez.png}
        \caption{Comparação Receptância}
    \end{figure}
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_mblAss_massa.png}
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_mblAss_rigidez.png}
        \caption{Comparação Mobilidade}
    \end{figure}
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_inrAss_massa.png}
        \includegraphics[width=0.45\textwidth]{images/m10c5k100_inrAss_rigidez.png}
        \caption{Comparação Inertância}
    \end{figure}
\end{resolution}

\newpage
\begin{exercise}\label{ex8}
    Determine a função de transferência que relaciona a força ao deslocamento.
\end{exercise}

\newpage
\begin{exercise}\label{ex9}
    Determine a função de transferência que relationa a força à velocidade.
\end{exercise}

\newpage
\begin{exercise}\label{ex10}
    Determine a função de transferência que relationa a força à aceleração.
\end{exercise}

\newpage
\begin{exercise}\label{ex11}
    Gere os respectivos diagramas de Bode dessas funções.
\end{exercise}

\newpage
\begin{exercise}\label{ex12}
    Compare os resultados desses diagramas de Bode com as respectivas Receptância, Mobilidade e Inertância. Discuta seus resultados. Note que a função Bode apresenta o eixo das ordenadas em dB. 
\end{exercise}

\newpage
\begin{exercise}\label{ex13}
    Pode-se concluir sobre o paralelo de que $s = j\omega$, relacionando Transformada de Laplace com resposta em frequência? Comente sua resposta.
\end{exercise}

\newpage
\begin{exercise}\label{ex14}
    Montar o respectivo Modelo de Estados tendo como entrada a força e como saídas a Posição, Velocidade e Aceleração.
\end{exercise}

\newpage
\begin{exercise}\label{ex15}
    Plotar os respectivos diagramas de Bode desse Modelo de Estados.
\end{exercise}

\newpage
\begin{exercise}\label{ex16}
    Comparar eses diagramas de Bode com os resultados anteriores. É possível verificar que as saídas são as mesmas que as respectivas Receptância, Mobilidade e Inertância?
\end{exercise}

\newpage
\begin{exercise}\label{ex17}
    Caso a amplitude da Força Harmônica seja $F = 10$, o que precisa ser adaptado nas formulações anteriores?
\end{exercise}
\end{document}