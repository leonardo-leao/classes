\documentclass{article}
\usepackage{tpack}



\titleformat
    {\subsection}           % Part
    [block]                 % Part Shape
    {\normalfont\Large}     % Font Size
    {}                      % Label Numbering
    {0mm}                   % Part Separation
    {}                      % Code Before
    []                      % Code After

    \titlespacing*{\subsection}{0mm}{5mm}{2.5mm}


\title{ES572 - Circuitos Lógicos}
\author{Guilherme Nunes Trofino}
\authorRA{217276}
\project{Atividade Teórica}


\begin{document}
    \maketitle
\newpage

    \section{Atividade Teórica}
        \paragraph{Apresentação}Resolução das questões de Circuitos Lógicos por Guilherme Nunes Trofino, 217276, sobre \textbf{Abstração Digital} e \textbf{Dispositivos Eletrônicos}.

        \subsection{Questão 1}
            \begin{exercise}
                Você recebe as \texttt{Curvas Características de Transferência} de dispositivos de uma entrada e uma saída, para serem utilizados em uma nova família de dispositivos lógicos:
                    \begin{figure}[H]
                        \centering
                        \includegraphics[height = 6cm]{es572_ex02_im01.png}
                    \end{figure} \noindent
                Obtenha um conjunto único de valores de ($V_{OL}$, $V_{IL}$, $V_{OH}$, $V_{IH}$) adequado para serem usados nestes dispositivos. Maximize a \textbf{Imunidade ao Ruído}, definida como a menor entre as duas margens de ruído.
            \end{exercise}
            \begin{resolution}
                Nota-se que trata-se, provavelmente, de uma \texttt{Porta Inversora}, logo as seguintes condições devem ser atendidas:
                    \begin{enumerate}[noitemsep]
                        \item $V_{OH} - V_{OL} > V_{IH} - V_{IL}$;
                        \item $V_{OH} > V_{IH} > V_{IL} > V_{OL}$;
                        \item $V_{OUT} \ge V_{OH}$ quando $V_{IN} \le V_{IL}$;
                        \item $V_{OUT} \le V_{OL}$ quando $V_{IN} \ge V_{IH}$;
                    \end{enumerate}
                Desta forma, propõem-se os seguines valores:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{l|cccc|cc}\hline
                                     & $V_{OL}$ & $V_{IL}$ & $V_{IH}$ & $V_{OH}$ & Erro High & Erro Low\\\hline
                            Inversor & 1.0      & 1.5      & 3.5      & 4.0      & 0.5       & 0.5\\\hline
                        \end{tabular}
                    \end{table}
                Implicando que a \textbf{Imunidade de Ruído} será $\boxed{0.5\text{ V}}$.
            \end{resolution}

\newpage
        \subsection{Questão 2}
            \begin{exercise}
                Uma família de circuitos lógicos combinacionais possui as seguintes especificações:
                    \begin{enumerate}
                        \item Saída '0' será garantidamente representada por uma tensão de $0.4 \pm 0.1$ volts;
                        \item Saída '1' será garantidamente representada por uma tensão de $4.6 \pm 0.2$ volts;
                        \item Tensão de Threshold de $2.5 \pm 0.2$ volts com:
                            \begin{enumerate}[noitemsep]
                                \item $V_{TH}-0.5$ volts são garantidamente interpretadas como '0';
                                \item $V_{TH}+0.5$ volts são garantidamente interpretadas como '1';
                            \end{enumerate}
                    \end{enumerate}
                Forneça valores adequados para ($V_{OL}$, $V_{IL}$, $V_{IH}$, $V_{OH}$). Forneça também as duas margens de ruído e a imunidade do ruído desta família de dispositivos.
            \end{exercise}
            \begin{resolution}
                Analiza-se os limites estabelecidos:
                    \begin{enumerate}[rightmargin = \leftmargin]
                        \item \textbf{Saída} será '0' para valores de $0.4 \pm 0.1$, implicando:
                            \begin{enumerate}[noitemsep, rightmargin = \leftmargin]
                                \item $V_{OL_{\text{min}}} = 0.3$
                                \item $V_{OL_{\text{max}}} = 0.5$
                            \end{enumerate}
                        Analogamente, será '1' para valores de $4.6 \pm 0.2$, implicando:
                            \begin{enumerate}[noitemsep, rightmargin = \leftmargin]
                                \item $V_{OH_{\text{max}}} = 4.8$
                                \item $V_{OH_{\text{min}}} = 4.4$
                            \end{enumerate}
                        Desta forma nota-se que $V_{OL} = 0.5$ e $V_{OH} = 4.4$, pois a partir destes valores as saídas são garantidas.
                        
                        \item \textbf{Threshold} será '0' para valores de $2.0 \pm 0.2$, implicando:
                            \begin{enumerate}[noitemsep, rightmargin = \leftmargin]
                                \item $V_{TH_{\text{min}}} = 1.8$
                                \item $V_{TH_{\text{max}}} = 2.2$
                            \end{enumerate}
                        Analogamente, será '1' para valores de $3.0 \pm 0.2$, implicando:
                            \begin{enumerate}[noitemsep, rightmargin = \leftmargin]
                                \item $V_{TH_{\text{max}}} = 3.2$
                                \item $V_{TH_{\text{min}}} = 2.8$
                            \end{enumerate}
                        Desta forma nota-se que $V_{IL} = 2.2$ e $V_{IH} = 2.8$, pois a partir destes valores as entradas são garantidas.
                    \end{enumerate}
                Desta forma os seguintes valores, em volts, seriam adequados:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{l|cccc|cc}\hline
                                     & $V_{OL}$ & $V_{IL}$ & $V_{IH}$ & $V_{OH}$ & Erro High & Erro Low\\\hline
                            Circuito & 0.5      & 2.2      & 2.8      & 4.4      & 1.6       & 1.7\\\hline
                        \end{tabular}
                    \end{table}
                Implicando que a \textbf{Imunidade de Ruído} será $\boxed{1.6 \text{ V}}$.
            \end{resolution}

\newpage
        \subsection{Questão 3}
            \begin{exercise}
                Você recebe as \texttt{Curvas Características de Transferência} de um inversor NMOS como mostrado abaixo:
                    \begin{figure}[H]
                        \centering
                        \includegraphics[height = 6cm]{es572_ex02_im02.png}
                    \end{figure} \noindent
                Considere as seguintes combinações entre ($V_{OL}$, $V_{IL}$, $V_{OH}$, $V_{IH}$) fornecida:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{l cccc}\hline
                                & $V_{OL}$ & $V_{IL}$ & $V_{IH}$ & $V_{OH}$\\\hline
                            (a) & 0.1      & 0.4      & 4.6      & 4.9\\
                            (b) & 0.6      & 0.9      & 4.1      & 4.4\\
                            (c) & 1.1      & 1.4      & 3.6      & 3.9\\\hline
                        \end{tabular}
                    \end{table}
                Verifique se as regras estáticas estão satisfeitas. Em caso negativo, detalhe o motivo. Em caso positivo informe a \textbf{Imunidade ao Ruído}.
            \end{exercise}
            \begin{resolution}
                Considera-se a seguintes condições devem ser atendidas para funcionamento adequado de um inversor:
                    \begin{enumerate}[noitemsep]
                        \item $V_{OH} - V_{OL} > V_{IH} - V_{IL}$;
                        \item $V_{OH} > V_{IH} > V_{IL} > V_{OL}$;
                        \item $V_{OUT} \ge V_{OH}$ quando $V_{IN} \le V_{IL}$;
                        \item $V_{OUT} \le V_{OL}$ quando $V_{IN} \ge V_{IH}$;
                    \end{enumerate}
                Cada condição será avaliada em cada configuração proposta e os resultados são apresentados abaixo:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{l ccc}\hline
                                & (a) & (b)  & (c)\\\hline
                            (1) & ok  & ok   & ok\\
                            (2) & ok  & ok   & ok\\
                            (3) & ok  & erro & ok\\
                            (4) & ok  & erro & ok\\\hline
                        \end{tabular}
                    \end{table}
                Nota-se que nas configurações (a) e (c) não há erros, ambos apresentam 0.3V como \textbf{Imunidade a Ruído}.\\\\
                Nota-se que na configuração (b) as condições de funcionamento do inversor não são atendidas, pois dentro dos intervalos determinados por $V_{IH}$ e $V_{IL}$ há possibilidade que $V_{OUT}$ esteja fora dos intervalos determinados por $V_{OH}$ e $V_{OL}$ em virtude dos degraus presentes.
            \end{resolution}

\newpage
        \subsection{Questão 4}
            \begin{exercise}
                Construa a rede \texttt{pull-down} correspondente à rede de \texttt{pull-up} do circuito CMOS apresentado:
                    \begin{figure}[H]
                        \centering
                        \begin{circuitikz}
                            \ctikzset{component text=left}
                            \draw
                            (-0.5,0) node[pmos] (myFET_A1) {}
                            ( 0.5,0) node[pmos, xscale=-1] (myFET_B1) {}
                
                            (myFET_A1.S)-- (-0.5,1)
                                        -- (+0.5,1)
                                        -- (myFET_B1.S)
                                
                            (myFET_A1.D)-- (-0.5,-1)
                                        -- (+0.5,-1)
                                        -- (myFET_B1.D)

                            (0, 1) to[short, o-] ++(0,+0.5)
                            (0,-1) to[short, o-] ++(0,-0.5)

                            (-0.5,3) node[pmos] (myFET_A2) {}
                            ( 0.5,3) node[pmos, xscale=-1] (myFET_B2) {}

                            (myFET_A2.S)-- (-0.5,4)
                                        -- (+0.5,4)
                                        -- (myFET_B2.S)

                            (myFET_A2.D)-- (-0.5,2)
                                        -- (+0.5,2)
                                        -- (myFET_B2.D)

                            (0,4) to[short, o-] ++(0,+0.5)
                            (0,2) to[short, o-] ++(0,-0.5)

                            (myFET_A1.G) node[left] {$A$}
                            (myFET_B1.G) node[right]{$B$}

                            (myFET_A2.G) node[left] {$\bar{A}$}
                            (myFET_B2.G) node[right]{$\bar{B}$};
                        \end{circuitikz} 
                    \end{figure} \noindent
                Apresente a \textbf{Tabela Verdade} deste circuito.
            \end{exercise}
            \begin{resolution}
                Nota-se que a rede de \texttt{pull-down} correspondente será:
                    \begin{figure}[H]
                        \centering
                        \begin{circuitikz}
                            \ctikzset{component text=left}
                            \draw
                            (-0.5, 1) node[nmos] (myFET_A1) {}
                            (-0.5,-1) node[nmos] (myFET_B1) {}
                    
                            (0.5, 1) node[nmos, xscale=-1] (myFET_A2) {}
                            (0.5,-1) node[nmos, xscale=-1] (myFET_B2) {}
                    
                            (myFET_A1.S) -- (myFET_B1.D)
                            (myFET_A2.S) -- (myFET_B2.D)
                    
                            (myFET_A1.D) -- (-0.5, 2)
                                        -- ( 0.5, 2)
                                        -- (myFET_A2.D)
                    
                            (myFET_B1.S) -- (-0.5,-2)
                                        -- ( 0.5,-2)
                                        -- (myFET_B2.S)
                    
                            (0, 2) to[short, o-] ++(0,+0.5)
                            (0,-2) to[short, o-] ++(0,-0.5)
                    
                            (myFET_A1.G) node[left] {$A$}
                            (myFET_B1.G) node[left]{$B$}
                    
                            (myFET_A2.G) node[right] {$\bar{A}$}
                            (myFET_B2.G) node[right]{$\bar{B}$};
                        \end{circuitikz} 
                    \end{figure} \noindent
                Implicando a seguinte \textbf{Tabela Verdade}:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}{cccc|cc}\hline
                            $A$ & $B$ & $\bar{A}$ & $\bar{B}$ & \texttt{pull-up} & \texttt{pull-down}\\\hline
                            0   & 0   & 1         & 1         & 0                & 1\\
                            0   & 1   & 1         & 0         & 1                & 0\\
                            1   & 0   & 0         & 1         & 1                & 0\\
                            1   & 1   & 0         & 0         & 0                & 1\\\hline
                        \end{tabular}
                    \end{table}
            \end{resolution}

\newpage
        \subsection{Questão 5}
            \begin{exercise}
                Uma única porta CMOS, que consiste de uma saída conectada a uma única rede \texttt{pull-up} construída por PMOS e uma única rede de \text{pull-down} construída por NMOS, calcula $F(A,B,C,D)$.
                    \begin{enumerate}[noitemsep]
                        \item $F(0,0,1,0)$
                        \item $F(1,1,1,0)$
                        \item $F(1,1,1,1)$
                    \end{enumerate}
                Observa-se que $F(1,0,1,0)=1$ então sobre as combinações acima, responda com \texttt{0}, \texttt{1} ou \texttt{não é possível saber}.
            \end{exercise}
            \begin{resolution}
                Observa-se, pelas condições impostas, que:
                    \begin{enumerate}[noitemsep]
                        \item $F(0,0,1,0)$ = 1;
                        \item $F(1,1,1,0)$ = \texttt{não é possível saber};
                        \item $F(1,1,1,1)$ = 0;
                    \end{enumerate}
                Note que considerou-se que \textbf{não há} curto circuito na rede \texttt{pull-up}.
                \\\\
                Em (1) a condição de \texttt{pull-up} se mantém, $F(A,0,C,0)$, o que garante que independente das demais entradas a saída será 1.
                \\\\
                Em (2) a condição de \texttt{pull-up} se altera e portanto não é possível saber qual seria o resultado de tal alteração.
                \\\\
                Em (3) a construção de uma CMOS com redes únicas implica que quando $F(1,1,1,1)$ deverá necessariamente haver \texttt{pull-down}, trazendo a saída a 0.
            \end{resolution}

\newpage
        \subsection{Questão 6}
            \begin{exercise}
                Considere as funções $F(A,B,C)$ e $G(A,B,C)$ apresentadas na tabela a seguir:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{ccc|cc}\hline
                            A & B & C & F & G\\\hline
                            0 & 0 & 0 & 1 & 1\\
                            0 & 0 & 1 & 1 & 1\\
                            0 & 1 & 0 & 0 & 1\\
                            0 & 1 & 1 & 1 & 0\\
                            1 & 0 & 0 & 1 & 1\\
                            1 & 0 & 1 & 0 & 0\\
                            1 & 1 & 0 & 0 & 1\\
                            1 & 1 & 1 & 1 & 0\\\hline
                        \end{tabular}
                    \end{table}
                Apresente o esquemático do circuito de uma única rede de \texttt{pull-up} por PMOS e uma única rede de \texttt{pull-down} por NMOS se puder ser implementado. Caso contrário, indique que não é possível.
            \end{exercise}
            \begin{resolution}
                1
            \end{resolution}

\newpage
        \subsection{Questão 7}
            \begin{exercise}
                Considere o seguinte circuito:
                    \begin{figure}[H]
                        \centering
                        \includegraphics[height = 6cm]{es572_ex02_im03.png}
                    \end{figure} \noindent
                Considere os seguintes atrasados para cada uma das portas lógicas apresentadas:
                    \begin{table}[H]
                        \centering  
                        \begin{tabular}[]{c|cc}\hline
                            Porta & $t_{CD}$ & $t_{PD}$\\\hline
                            INV   & 0.1 ns   & 1.0 ns\\
                            NAND2 & 0.2 ns   & 1.5 ns\\
                            NAND3 & 0.3 ns   & 1.8 ns\\
                            XOR2  & 0.6 ns   & 2.5 ns\\\hline
                        \end{tabular}
                    \end{table}
                Calcule o atraso de propagação e o atraso de contaminação do circuito completo.
            \end{exercise}
            \begin{resolution}
                $T_{PD}$ = 5 ns, 2 XORs
                $T_{CD}$ = 0.6 ns, INV
            \end{resolution}
\end{document}